<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>04---rmarkdown.knit</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Inicio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    AprendeR
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01---introduccion.html">1- Introducción</a>
    </li>
    <li>
      <a href="02---dplyr.html">2- dplyr</a>
    </li>
    <li>
      <a href="03---ggplot.html">3- ggplot</a>
    </li>
    <li>
      <a href="04---rmarkdown.html">4- rmarkdown</a>
    </li>
  </ul>
</li>
<li>
  <a href="05---contacto.html">Contacto</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<html>
<body>
<div id="rmarkdown" class="section level1">
<h1>RMARKDOWN</h1>
<hr class = "linea">
<p>En la última unidad de este curso introductorio a R y R Studio, vamos a ver un tema super útlil a la hora de comunicar nuestros resultados, presentar informes, entregar trabajos. En general, nos desmienten si no corresponde, el flujo de trabajo tradiccional para presentar nuestros resultados es super engorroso, involucra varios programas y tiene un componente manual muy importante, el <strong>Ctrl + C</strong> y <strong>Ctrl + V</strong>. Es lo que más aplicamos en este flujo. Esto genera varios problemas, se pierde la trazabilidad del dato y si tenemos que replicar el trabajo es tarea de experto en rompecabezas: hay que unir los pedazos haciendo malabares.</p>
<p>Por el contrario R, en conjunto con Rstudio, facilitan mucho la vida porque en el mismo software: <strong>leemos los archivos, los transformamos, creamos visualizaciones y compartimos los resultados</strong>.</p>
<p><img src="Imagenes/flujo%20de%20trabajo.png"> <br></p>
<br>
<div class="contenidos citas">
<p>“En general, nos desmienten si no corresponde, el flujo de trabajo tradiccional para presentar nuestros resultados es super engorroso, involucra varios programas y tiene un componente manual muy importante, el Ctrl + C y Ctrl + V.”</p>
</div>
<p><br> <br> <code>Markdown</code> es un lenguaje de marcación ligero que permite de una manera sencilla dar formato a un texto con una serie de instrucciónes claves. Para pensarlo con un ejemplo de la vida cotidiana, es muy similar a como formateamos un mensaje de <strong>Whatsapp</strong>.</p>
<p><img src="Imagenes/ejemplo-whatsapp.jpg"> <br></p>
<p><code>Rmarkdown</code> es una librería que nos permite utlizar Markdown en conjunto con R y Rstudio. Así podemos escribir texto enriqueciendolo con formatos, con imagenes, videos, gif’s, links y además podemos incrustar código de R y de otros lenguajes de programación, ejecutarlos y visualizar sus resultados.</p>
<p><a href="https://bookdown.org/yihui/rmarkdown/">Aquí podemos consultar el libro Rmarkdon La guía definitiva.</a></p>
<p><strong>¿Qué podemos hacer con Rmarkdown?</strong></p>
<ul>
<li>Entregar trabajos prácticos.</li>
<li>Crear informes.</li>
<li>Documentar código.</li>
<li>Tutoriales, y hasta libros.</li>
</ul>
<p>Existe una gama muy interesante de salidas. Podemos convertir nuestros textos enriquecidos en archivos:</p>
<ul>
<li>HTML</li>
<li>PDF</li>
<li>Word</li>
<li>Power Point</li>
</ul>
<p>El tipo de salida HTML es el que vamos a utilizar en este curso y es el más completo.</p>
<p>La librerías que nos permiten trabajar con Markdown en R son rmarkdown y knitr. Tendriamos que instalarlas en caso de no tenerlas y activarlas.</p>
<pre class="r"><code>install.packages(c(&quot;rmarkdown&quot;, &quot;knitr&quot;))
library(rmarkdown)
library(knitr)</code></pre>
<br>
<h1>
CONTENIDOS
</h1>
<hr class = "linea">
<div class="contenidos">
<p><a href="#1" class="contitulo"><b>1. PRIMER ACERCAMIENTO</b></a> <br><a class="subtitulostabla" href="#1.1"> 1.1. ¿Qué es rmarkdown? </a> <br><a class="subtitulostabla" href="#1.2"> 1.2. Uso de texto </a> <br><a class="subtitulostabla" href="#1.3"> 1.3. Bloques de código: chunk </a></p>
</div>
<br>
<h1 id="1">
PRIMER ACERCAMIENTO
</h1>
<hr class = "linea">
<h2 id="1.1">
<strong>1.1.</strong> ¿QUÉ ES RMARKDOWN?
</h2>
<p><br></p>
<p>Trabajar con <code>Rmarkdown</code> en Rstudio es muy sencillo e intuitivo, para comenzar tenemos que abrir un archivo desde File, New File, R Markdown… o directamente desde el logo de New file como se ve en la siguiente imaginen.</p>
<p><img src="Imagenes/archivosRmar.PNG"> <br></p>
<p>Allí se nos abre una ventana emergente donde podemos seleccionar las opciones del documento que vamos a crear. Le damos un nombre al archivo, escribimos el nombre del o la creadora y seleccionamos el formato de salida del archivo, como comentamos antes tenemos varias opciones, nosotros vamos a seleccionar la salida HTML</p>
<p><img src="Imagenes/opciones.PNG"> <br></p>
<p>Una vez que aceptamos se nos abre un archivo sin titulo en donde veniamos escribiendo los scripts de R, en este caso la extensión del archivo es <strong>.Rmd</strong>. El mismo, contiene una breve introducción y ejemplos de como podemos agregar código y visualizar los resultados. Demos una mirada a este archivo:</p>
<p><img src="Imagenes/curpoDocumento.png"> <br></p>
<p>Observamos en la imagen un archivo de un estilo diferente. En primer lugar tenemos nuevas opciones en la barra superior del documento.</p>
<ul>
<li><p>knit: Podemos traduicirlo como tejer el documento. Este botón es propio de los archivos Rmarkdown y nos permite correr el archivo para obtener el resultado.</p></li>
<li><p>+C: Es bóton que nos permite incorporar al documento pedazos de código. La primera opción es insertar código R, pero vemos otras opciones como SQL, Python y otros.</p></li>
</ul>
<p>Por otro lado veamos el contenido del archivo, podemos distinguir tres componentes principales:</p>
<ul>
<li><p>Encabezado: donde econtramos la metadata del archivo. Titulo, autor, fecha, y lo principal output. Vamos a ver otras opciones.</p></li>
<li><p>Texto: Aquí escribimos el texto del documento, que podemos enriquecer como el mensaje de Whatsapp. Además podemos incorporar código HTML (se puede incluir css y javascript), ya que se procesa como si fuese una página web.</p></li>
<li><p>Chunk: O pedazos de código, es esta opción que nos permite visualizar instrucciones de R y además ver su resultado sea este un gráfico, un texto, un número o una tabla.</p></li>
</ul>
<h2 id="1.2">
<strong>1.2.</strong> USO DE TEXTO
</h2>
<p><br></p>
<p>Entre las opciones de texto, la primera que encontramos es la opción de incorporar titulos y subititulos.</p>
<p><strong>Encabezados en Rmarkdown</strong></p>
<p><code># TITULO 1</code></p>
</div>
<div id="titulo-1" class="section level1">
<h1>TITULO 1</h1>
<p><code>## TITULO 2</code></p>
<div id="titulo-2" class="section level2">
<h2>TITULO 2</h2>
<p><code>### TITULO 3</code></p>
<div id="titulo-3" class="section level3">
<h3>TITULO 3</h3>
<p>Si queremos escribir listas sin orden podemos hacerlo comenzando la linea con <code>*</code>, <code>-</code> o <code>+</code>.</p>
<pre><code>* item
* item 
* item 
    * item
    * item</code></pre>
<p>Resultado:</p>
<ul>
<li>item</li>
<li>item</li>
<li>item
<ul>
<li>item</li>
<li>item</li>
</ul></li>
</ul>
<p>Para listas ordenadas lo podemos hacer de la siguiente manera.</p>
<pre><code>1. item 1
2. item 2
3. item 3
    a. item 3 a
    b. item 3 b</code></pre>
<p>Resultado:</p>
<ol style="list-style-type: decimal">
<li>item 1</li>
<li>item 2</li>
<li>item 3
<ol style="list-style-type: lower-alpha">
<li>item 3 a</li>
<li>item 3 b</li>
</ol></li>
</ol>
<p>Para enriquecer el texto tenemos las siguientes opciones.</p>
<table>
<thead>
<tr class="header">
<th><strong>Rmarkdown</strong></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Entrada</td>
<td>Salida</td>
</tr>
<tr class="even">
<td><code>*cursiva*</code></td>
<td><em>cursiva</em></td>
</tr>
<tr class="odd">
<td><code>_cursiva_</code></td>
<td><em>cursiva</em></td>
</tr>
<tr class="even">
<td><code>**negrita**</code></td>
<td><strong>negrita</strong></td>
</tr>
<tr class="odd">
<td><code>__negrita__</code></td>
<td><strong>negrita</strong></td>
</tr>
</tbody>
</table>
<p>Podemo agregar citas:</p>
<pre><code>&gt; &quot;Todo lo sólido se desvanece en el aire.&quot;
&gt;
&gt; --- Karl Marx</code></pre>
<blockquote>
<p>“Todo lo sólido se desvanece en el aire.”</p>
<p>— Karl Marx</p>
</blockquote>
<p>Tambien podemos hacer tablas sencillas con la sintáxis propia de Rmarkdown.</p>
<p><strong>Hacemos nuestra tabla</strong></p>
<pre><code>
 **Columna 1** |  **Columna 2** | 
---------------| ---------------|
*Fila 1* | Fila 1 
*Fila 2* | Fila 2</code></pre>
<p><strong>Salida</strong></p>
<table>
<thead>
<tr class="header">
<th><strong>Columna 1</strong></th>
<th><strong>Columna 2</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><em>Fila 1</em></td>
<td>Fila 1</td>
</tr>
<tr class="even">
<td><em>Fila 2</em></td>
<td>Fila 2</td>
</tr>
</tbody>
</table>
<div id="agregamos-links-e-imagenes" class="section level4">
<h4>Agregamos links e imagenes</h4>
<pre><code>Agregamos una imagen ubicada en la Web

![](https://www.r-studio.com/images/R-Linux.png)
</code></pre>
<p><img src="https://www.r-studio.com/images/R-Linux.png" /></p>
<p>Ahora un link</p>
<pre><code>Agregamos una imagen ubicada en la Web

(Este es el texto que ve el usuario como en formato link)[https://www.r-studio.com]
</code></pre>
<p>(Este es el texto que ve el usuario como en formato link)[<a href="https://www.r-studio.com" class="uri">https://www.r-studio.com</a>]</p>
<br>
<h2 id="1.3">
<strong>1.3.</strong> BLOQUES DE CÓDIGO: CHUNK
</h2>
<p><br></p>
<p>Además de poder diseñar documentos HTML de forma muy sencilla tenemos la opción de incorporar el código que realizamos para analizar nuestros datos. Esta potencialidad de Rmarkdown nos ayuda a integrar el 100% de nuestro flujo de trabajo dentro de R. Identificando las desiciones que tomamos para analizar nuestros datos y visualizar el contenido del mismo.</p>
<p>Incorporamos los trozos de código mediante el botón <code>insert</code>:</p>
<p><img src="Imagenes/chunk.PNG"> <br></p>
<p>O podemos utlizar el atajo del teclado <strong>Ctrl + Alt + i</strong></p>
<p>Una vez que tenemos nuestro trozo de código, podemos aplicar una serie de condiciones para decirle a Rmarkdown que queremos hacer con la impresión de nuestro output. Por ejemplo, algunas veces queremos mostrar determinada instrucción pero no queremos que se ejecute cada vez que <em>tejemos</em> nuestro documento. Aquí tenemos documentada (la lista completa de opciones)[<a href="https://yihui.org/knitr/options/" class="uri">https://yihui.org/knitr/options/</a>]. Repasemos en este documento alguna de ellas:</p>
<ul>
<li><p><code>eval</code>: <code>TRUE/FALSE</code> decidimos si el código se ejecuta o no.</p></li>
<li><p><code>echo</code>: <code>TRUE/FALSE</code> decidimos si el código se muestra en el documento o si se oculta.</p></li>
<li><p><code>results</code>: decidimos que hacer con el resultado de nuestro código. Las opciones son:</p>
<ul>
<li>‘hide’, no se muestra el resultado.</li>
<li>‘asis’, texto sin formato</li>
<li>‘markup’, texto con formato</li>
</ul></li>
<li><p><code>collapse</code>: <code>TRUE/FALSE</code> cuando es TRUE se imprime todo junto, código y resultado. Cuando es FALSE, se imprime el código en un bloque y el resultado en otro.</p></li>
<li><p><code>warning</code>, <code>message</code>, y <code>error</code>: las opciones son <code>TRUE/FALSE</code> decidimos si en caso de que nuestro código resulte algun mensaje de advertencia, error o simplemente un mensaje, los imprima o no.</p></li>
<li><p><code>fig.width</code>, <code>fig.height</code>: decidimos el ancho y el alto de los gráficos en caso de que sean un resultado. La medida es en pulgadas. Podemos definir ambas opciones con un sólo parámetro <code>fig.dim</code>, pasando un vector de valores <code>fig.dim = c(6, 4)</code>.</p></li>
<li><p><code>out.width</code>, <code>out.height</code>: decidimos el tamaño que tendrá nuestro gráfico en la salida. Podemos usar porcentajes siendo 100% el total del espacio disponible en el documento.</p></li>
<li><p><code>fig.align</code>: decidimos la alineación de la figura. Puede ser ‘left’, ‘center’, o ‘right’.</p></li>
<li><p><code>fig.cap</code>: Leyenda de la imágen.</p></li>
</ul>
<p>Si queremos establecer parámetros para todo el documento lo podemos hacer en el primer chunk que por defecto tenemos luego del encabezado.</p>
<pre class="r"><code>knitr::opts_chunk$set(echo = TRUE, collapse = TRUE) #ETC</code></pre>
<p>Adicionalmente podemos comentar que podemos nombrar los trozos de código. Los nombres no pueden repetirse. Esto sirve mucho para ordenar nuestro código.</p>
<p>Finalmente comentemos que podemos llamar el resultado de nuestro código de R a lo largo del documento. Veamos un ejemplo:</p>
<pre class="r"><code>suma &lt;- 8 + 10</code></pre>
<p>Y podemos llamar al resultado de esta manera.</p>
<pre><code>18</code></pre>
<p>Esto es el resultado de la suma: 18.</p>
</body>
</html>
</div>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
